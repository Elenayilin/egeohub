<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>eGeoHub</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <header class="site-header">
    <div class="logo">eGeoHub</div>
    <nav class="main-nav">
      <ul>
        <li><a href="#yrs7-8">Years 7–8</a></li>
        <li><a href="#yrs9-10">Years 9–10</a></li>
        <li><a href="#vce">VCE Geography</a></li>
        <li><a href="#practice">Practice Centre</a></li>
        <li><a href="#resources">Resources</a></li>
        <li><a href="#classroom-points">Classroom Points</a></li>
        <li><a href="#ask">Ask a Question</a></li>
        <li><a href="#contact">Contact</a></li>
      </ul>
    </nav>
  </header>

  <section class="hero">
    <div class="hero-content">
      <h1>Geography Resources for Students</h1>
      <p>Your interactive learning hub</p>
    </div>
  </section>

  <section id="ask" class="content-section">
    <h2>Ask a Question</h2>
    <p class="ask-description">Ask about anything you don't understand. You may leave your name blank for anonymous submission. Questions will only be visible to your teacher.</p>

    <form id="questionForm">
      <input type="text" id="studentName" placeholder="Your name (optional)">
      <textarea id="studentQuestion" placeholder="Enter your question here..." required></textarea>
      <button type="submit">Submit Question</button>
    </form>

    <div class="admin-access">
      <input type="password" id="adminPassword" placeholder="Enter teacher password">
      <button onclick="showQuestions()">View Submissions</button>
    </div>

    <div id="questionList" style="display:none;">
      <h3>Submitted Questions</h3>
      <ul id="storedQuestions"></ul>
    </div>
  </section>

  <section id="contact" class="content-section">
    <h2>Contact</h2>
    <p>Email: <a href="mailto:yhan0104@student.monash.edu">yhan0104@student.monash.edu</a></p>
  </section>

  <script>
    const form = document.getElementById('questionForm');
    const nameInput = document.getElementById('studentName');
    const questionInput = document.getElementById('studentQuestion');
    const storedQuestionsList = document.getElementById('storedQuestions');
    const questionListDiv = document.getElementById('questionList');

    let questions = JSON.parse(localStorage.getItem('questions')) || [];

    form.addEventListener('submit', function(e) {
      e.preventDefault();
      const name = nameInput.value.trim() || "Anonymous";
      const question = questionInput.value.trim();
      const timestamp = new Date().toLocaleString();

      if (!question) return;

      questions.push({ name, question, timestamp });
      localStorage.setItem('questions', JSON.stringify(questions));

      nameInput.value = '';
      questionInput.value = '';
      alert('Your question has been submitted!');
    });

    function showQuestions() {
      const pwd = document.getElementById('adminPassword').value;
      if (pwd !== 'monash') {
        alert('Incorrect password');
        return;
      }

      questionListDiv.style.display = 'block';
      renderQuestions();
    }

    function renderQuestions() {
      storedQuestionsList.innerHTML = '';
      questions.forEach((q, index) => {
        const li = document.createElement('li');
        li.innerHTML = `<strong>${q.name}:</strong> ${q.question}<br><span style="font-size: 0.8em; color: gray;">Submitted: ${q.timestamp}</span> <button onclick="deleteQuestion(${index})">Delete</button>`;
        storedQuestionsList.appendChild(li);
      });
    }

    function deleteQuestion(index) {
      if (confirm('Are you sure you want to delete this question?')) {
        questions.splice(index, 1);
        localStorage.setItem('questions', JSON.stringify(questions));
        renderQuestions();
      }
    }
  </script>
</body>
</html>
